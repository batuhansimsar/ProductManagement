{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\batuhan\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\Products\\\\product-tracking-app\\\\src\\\\store\\\\AppContext.tsx\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport * as api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/createContext({\n  products: [],\n  categories: [],\n  addProduct: async () => {},\n  addCategory: async () => {},\n  deleteCategory: async () => {},\n  updateProduct: async () => {}\n});\n\n// ...existing code...\n\nexport const AppProvider = ({\n  children\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    api.getProducts().then(setProducts);\n    api.getCategories().then(setCategories);\n  }, []);\n  const addProduct = async product => {\n    const newProduct = await api.addProduct(product);\n    setProducts(prev => [...prev, newProduct]);\n  };\n  const addCategory = async name => {\n    const newCategory = await api.addCategory(name);\n    setCategories(prev => [...prev, newCategory]);\n  };\n  const deleteCategory = async id => {\n    await api.deleteCategory(id);\n    setCategories(prev => prev.filter(cat => cat.id !== id));\n  };\n  const updateProduct = async product => {\n    const updated = await api.updateProduct(product);\n    // Eğer API'den veri dönmezse, local güncelleme yap\n    setProducts(prev => prev.map(p => p.id === product.id ? updated || product : p));\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      products,\n      categories,\n      addProduct,\n      addCategory,\n      deleteCategory,\n      updateProduct\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(AppProvider, \"SrPJXzJi5P8Ybdwd9N89dX2ppHo=\");\n_c = AppProvider;\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","api","jsxDEV","_jsxDEV","AppContext","products","categories","addProduct","addCategory","deleteCategory","updateProduct","AppProvider","children","_s","setProducts","setCategories","getProducts","then","getCategories","product","newProduct","prev","name","newCategory","id","filter","cat","updated","map","p","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/batuhan/OneDrive/Masaüstü/Products/product-tracking-app/src/store/AppContext.tsx"],"sourcesContent":["import { createContext, useState, useEffect, ReactNode } from \"react\";\r\nimport { Product, Category } from \"../types\";\r\nimport * as api from \"../api\";\r\n\r\ninterface AppContextProps {\r\n  products: Product[];\r\n  categories: Category[];\r\n  addProduct: (product: {\r\n    productName: string;\r\n    description: string;\r\n    price: number;\r\n    stockQuantity: number;\r\n    imageUrl?: string;\r\n    categoryId: number;\r\n  }) => Promise<void>;\r\n  addCategory: (name: string) => Promise<void>;\r\n  deleteCategory: (id: number) => Promise<void>;\r\n  updateProduct: (product: Product) => Promise<void>;\r\n}\r\n\r\nexport const AppContext = createContext<AppContextProps>({\r\n  products: [],\r\n  categories: [],\r\n  addProduct: async () => {},\r\n  addCategory: async () => {},\r\n  deleteCategory: async () => {},\r\n  updateProduct: async () => {},\r\n});\r\n\r\n// ...existing code...\r\n\r\nexport const AppProvider = ({ children }: { children: ReactNode }) => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n\r\n  useEffect(() => {\r\n    api.getProducts().then(setProducts);\r\n    api.getCategories().then(setCategories);\r\n  }, []);\r\n\r\n  const addProduct = async (product: {\r\n    productName: string;\r\n    description: string;\r\n    price: number;\r\n    stockQuantity: number;\r\n    imageUrl?: string;\r\n    categoryId: number;\r\n  }) => {\r\n    const newProduct = await api.addProduct(product);\r\n    setProducts(prev => [...prev, newProduct]);\r\n  };\r\n\r\n  const addCategory = async (name: string) => {\r\n    const newCategory = await api.addCategory(name);\r\n    setCategories(prev => [...prev, newCategory]);\r\n  };\r\n\r\n  const deleteCategory = async (id: number) => {\r\n    await api.deleteCategory(id);\r\n    setCategories(prev => prev.filter(cat => cat.id !== id));\r\n  };\r\n  \r\n  const updateProduct = async (product: Product) => {\r\n    const updated = await api.updateProduct(product);\r\n    // Eğer API'den veri dönmezse, local güncelleme yap\r\n    setProducts(prev => prev.map(p => p.id === product.id ? (updated || product) : p));\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider value={{\r\n      products,\r\n      categories,\r\n      addProduct,\r\n      addCategory,\r\n      deleteCategory,\r\n      updateProduct\r\n    }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAmB,OAAO;AAErE,OAAO,KAAKC,GAAG,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAkB9B,OAAO,MAAMC,UAAU,gBAAGN,aAAa,CAAkB;EACvDO,QAAQ,EAAE,EAAE;EACZC,UAAU,EAAE,EAAE;EACdC,UAAU,EAAE,MAAAA,CAAA,KAAY,CAAC,CAAC;EAC1BC,WAAW,EAAE,MAAAA,CAAA,KAAY,CAAC,CAAC;EAC3BC,cAAc,EAAE,MAAAA,CAAA,KAAY,CAAC,CAAC;EAC9BC,aAAa,EAAE,MAAAA,CAAA,KAAY,CAAC;AAC9B,CAAC,CAAC;;AAEF;;AAEA,OAAO,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAkC,CAAC,KAAK;EAAAC,EAAA;EACpE,MAAM,CAACR,QAAQ,EAAES,WAAW,CAAC,GAAGf,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACO,UAAU,EAAES,aAAa,CAAC,GAAGhB,QAAQ,CAAa,EAAE,CAAC;EAE5DC,SAAS,CAAC,MAAM;IACdC,GAAG,CAACe,WAAW,CAAC,CAAC,CAACC,IAAI,CAACH,WAAW,CAAC;IACnCb,GAAG,CAACiB,aAAa,CAAC,CAAC,CAACD,IAAI,CAACF,aAAa,CAAC;EACzC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMR,UAAU,GAAG,MAAOY,OAOzB,IAAK;IACJ,MAAMC,UAAU,GAAG,MAAMnB,GAAG,CAACM,UAAU,CAACY,OAAO,CAAC;IAChDL,WAAW,CAACO,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAED,UAAU,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMZ,WAAW,GAAG,MAAOc,IAAY,IAAK;IAC1C,MAAMC,WAAW,GAAG,MAAMtB,GAAG,CAACO,WAAW,CAACc,IAAI,CAAC;IAC/CP,aAAa,CAACM,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEE,WAAW,CAAC,CAAC;EAC/C,CAAC;EAED,MAAMd,cAAc,GAAG,MAAOe,EAAU,IAAK;IAC3C,MAAMvB,GAAG,CAACQ,cAAc,CAACe,EAAE,CAAC;IAC5BT,aAAa,CAACM,IAAI,IAAIA,IAAI,CAACI,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACF,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC1D,CAAC;EAED,MAAMd,aAAa,GAAG,MAAOS,OAAgB,IAAK;IAChD,MAAMQ,OAAO,GAAG,MAAM1B,GAAG,CAACS,aAAa,CAACS,OAAO,CAAC;IAChD;IACAL,WAAW,CAACO,IAAI,IAAIA,IAAI,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACL,EAAE,KAAKL,OAAO,CAACK,EAAE,GAAIG,OAAO,IAAIR,OAAO,GAAIU,CAAC,CAAC,CAAC;EACpF,CAAC;EAED,oBACE1B,OAAA,CAACC,UAAU,CAAC0B,QAAQ;IAACC,KAAK,EAAE;MAC1B1B,QAAQ;MACRC,UAAU;MACVC,UAAU;MACVC,WAAW;MACXC,cAAc;MACdC;IACF,CAAE;IAAAE,QAAA,EACCA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACU,CAAC;AAE1B,CAAC;AAACtB,EAAA,CAjDWF,WAAW;AAAAyB,EAAA,GAAXzB,WAAW;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}